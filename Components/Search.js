import styles from "../styles/Search.module.scss";
import { useForm } from "react-hook-form";
import { useAssets } from "../Context/AssetsContext";
import { motion } from "framer-motion";

const Search = () => {
  const { register, handleSubmit, errors, reset } = useForm();
  const { avatars } = useAssets();
  const onSubmit = (values) => {
    console.log(values);
  };

  return (
    <motion.div
      initial={{ y: -500, opacity: 0 }}
      animate={{
        y: 0,
        opacity: 1,
        transition: {
          delay: 0.4,
          duration: 0.3,
        },
      }}
      exit={{ y: -500, opacity: 0 }}
      className={styles.wrapper}
    >
      <div className={styles.container}>
        <form onSubmit={handleSubmit(onSubmit)}>
          <div className={`${styles.formGroup} ${styles.searchInput}`}>
            <input
              name="query"
              rows="4"
              {...register("query", {
                required: {
                  value: true,
                  message: "You need to enter something",
                },
              })}
              placeholder="Search people, pages and posts"
            />
            <span>{errors?.message?.message}</span>
          </div>
          <div className={styles.searchIcon}>{searchIcon}</div>
          <div className={styles.submitIcon}>
            {/* <div className={styles.formGroup}> */}
            <button type="submit">{submitIcon}</button>
          </div>
          {/* </div> */}
        </form>
      </div>
    </motion.div>
  );
};

export default Search;

const searchIcon = (
  <svg
    width="26"
    height="26"
    viewBox="0 0 26 26"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M24.8193 19.2662L22.1117 16.5035C21.5292 15.9519 20.7946 15.5865 20.0021 15.4541C19.2095 15.3217 18.3954 15.4285 17.6643 15.7607L16.487 14.5878C17.8743 12.7412 18.5078 10.4395 18.2602 8.14615C18.0125 5.85282 16.9019 3.7381 15.1521 2.22772C13.4022 0.717335 11.143 -0.0765678 8.82928 0.00582718C6.5155 0.0882222 4.31897 1.0408 2.68184 2.67179C1.04471 4.30279 0.0885539 6.4911 0.00584909 8.7962C-0.0768557 11.1013 0.720032 13.352 2.23609 15.0953C3.75216 16.8386 5.87482 17.945 8.17678 18.1918C10.4787 18.4385 12.7891 17.8073 14.6427 16.4253L15.8069 17.5851C15.4342 18.3144 15.3006 19.1418 15.425 19.9507C15.5494 20.7596 15.9254 21.5093 16.5001 22.094L19.2732 24.8567C20.009 25.5888 21.0064 26 22.0463 26C23.0862 26 24.0835 25.5888 24.8193 24.8567C25.1931 24.4926 25.4901 24.0578 25.6928 23.5777C25.8956 23.0977 26 22.5822 26 22.0614C26 21.5406 25.8956 21.0251 25.6928 20.5451C25.4901 20.0651 25.1931 19.6302 24.8193 19.2662ZM13.7271 13.7408C12.8117 14.6504 11.6463 15.2693 10.3781 15.5194C9.10987 15.7695 7.79569 15.6395 6.60158 15.1458C5.40747 14.6522 4.387 13.817 3.66908 12.7459C2.95116 11.6747 2.568 10.4156 2.568 9.12764C2.568 7.83965 2.95116 6.58055 3.66908 5.50939C4.387 4.43824 5.40747 3.60309 6.60158 3.10945C7.79569 2.6158 9.10987 2.48581 10.3781 2.73588C11.6463 2.98596 12.8117 3.60489 13.7271 4.51449C14.3361 5.11974 14.8194 5.83877 15.1491 6.63037C15.4788 7.42197 15.6485 8.27059 15.6485 9.12764C15.6485 9.98469 15.4788 10.8333 15.1491 11.6249C14.8194 12.4165 14.3361 13.1355 13.7271 13.7408ZM22.975 22.9541C22.8534 23.0762 22.7087 23.1732 22.5493 23.2393C22.3899 23.3055 22.2189 23.3395 22.0463 23.3395C21.8736 23.3395 21.7026 23.3055 21.5432 23.2393C21.3838 23.1732 21.2391 23.0762 21.1175 22.9541L18.3445 20.1914C18.2219 20.0702 18.1246 19.9261 18.0582 19.7673C17.9917 19.6085 17.9576 19.4382 17.9576 19.2662C17.9576 19.0941 17.9917 18.9238 18.0582 18.765C18.1246 18.6062 18.2219 18.4621 18.3445 18.3409C18.4661 18.2188 18.6107 18.1218 18.7701 18.0557C18.9295 17.9895 19.1005 17.9554 19.2732 17.9554C19.4459 17.9554 19.6168 17.9895 19.7762 18.0557C19.9356 18.1218 20.0803 18.2188 20.2019 18.3409L22.975 21.1036C23.0976 21.2247 23.1949 21.3689 23.2613 21.5277C23.3277 21.6865 23.3619 21.8568 23.3619 22.0288C23.3619 22.2009 23.3277 22.3712 23.2613 22.53C23.1949 22.6888 23.0976 22.8329 22.975 22.9541Z"
      fill="black"
    />
  </svg>
);

const submitIcon = (
  <svg
    width="30"
    height="31"
    viewBox="0 0 30 31"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M22.3897 15.0257C22.3303 14.8724 22.2412 14.7324 22.1275 14.6137L15.8862 8.37236C15.7698 8.25597 15.6316 8.16365 15.4795 8.10066C15.3275 8.03767 15.1645 8.00525 14.9999 8.00525C14.6675 8.00525 14.3487 8.1373 14.1136 8.37236C13.9972 8.48874 13.9049 8.62692 13.8419 8.77898C13.7789 8.93105 13.7465 9.09403 13.7465 9.25863C13.7465 9.59105 13.8786 9.90985 14.1136 10.1449L18.2329 14.2517H8.75853C8.42747 14.2517 8.10996 14.3832 7.87587 14.6173C7.64177 14.8514 7.51025 15.1689 7.51025 15.5C7.51025 15.8311 7.64177 16.1486 7.87587 16.3827C8.10996 16.6168 8.42747 16.7483 8.75853 16.7483H18.2329L14.1136 20.8551C13.9966 20.9711 13.9038 21.1092 13.8404 21.2613C13.777 21.4134 13.7444 21.5766 13.7444 21.7414C13.7444 21.9062 13.777 22.0693 13.8404 22.2214C13.9038 22.3735 13.9966 22.5116 14.1136 22.6276C14.2297 22.7446 14.3677 22.8375 14.5198 22.9009C14.672 22.9643 14.8351 22.9969 14.9999 22.9969C15.1647 22.9969 15.3278 22.9643 15.48 22.9009C15.6321 22.8375 15.7701 22.7446 15.8862 22.6276L22.1275 16.3863C22.2412 16.2676 22.3303 16.1276 22.3897 15.9743C22.5145 15.6704 22.5145 15.3296 22.3897 15.0257Z"
      fill="black"
    />
  </svg>
);
